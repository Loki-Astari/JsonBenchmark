
CWD=$(pwd)

git clone https://github.com/Loki-Astari/ThorsIOUtil.git
cd ThorsIOUtil
./configure --disable-vera --prefix $(realpath ${CWD}/build)
make
make install
cd ..

git clone https://github.com/Loki-Astari/ThorsLogging.git
cd ThorsLogging
./configure --disable-vera --prefix $(realpath ${CWD}/build) --with-thorserialize-root=$(realpath ${CWD}/build)
make
make install
cd ..


if [[ -d /tmp/magic_enum/ ]]; then
    magic="--with-magicenum-header-only-root=/tmp/magic_enum/include/magic_enum"
fi
echo "Magic: ${magic}"

./configure --disable-vera ${magic}
make

