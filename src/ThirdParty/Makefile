THORSANVIL_ROOT             = $(realpath ../../)

buildtarget:				release-only

TARGET                      = ThirdParty.slib

# Read AVX_FLAGS from avx_flags.txt Generated by init/Jsonifier
include ../../thirdparty/Jsonifier/avx_flags.txt

VERA                        = true
LDLIBS                      += ../../thirdparty/ccan/libccan.a
LDLIBS                      += ../../thirdparty/cJSON/libcjson.a
LDLIBS                      += ../../thirdparty/json-c/libjson-c.a
LDLIBS                      += ../../thirdparty/jsoncpp/build/lib/libjsoncpp.a
LDLIBS                      += ../../thirdparty/json-voorhees/libjsonv.a
LDLIBS                      += ../../thirdparty/udb-jsason-parser/lib/libjsonparser.a
LDLIBS                      += ../../thirdparty/udb-jsason-parser/lib/libjsonbuilder.a
LDLIBS                      += ../../thirdparty/jsonxx/libjsonxx.a
LDLIBS                      += ../../thirdparty/Jzon/libJzon.a
LDLIBS						+= ../../thirdparty/simdjson/build/libsimdjson.a
LDLIBS                      += -lThorSerialize -lThorsLogging
LDLIBS						+= $(BOOSTLIB_NEEDED_$(PLATFORM))
BOOSTLIB_NEEDED_Darwin		= -lboost_json

ArduinoJsonTest_CXXFLAGS	+= -I../../thirdparty/ArduinoJson/src -Wno-deprecated-dynamic-exception-spec
BoostJsonTest_CXXFLAGS		+= -Wno-deprecated
ccanTest_CXXFLAGS			+= -I../../thirdparty/ccan -Wno-nested-anon-types
cJSONTest_CXXFLAGS			+= -I../../thirdparty -Wno-nonportable-include-path
ConfiguruTest_CXXFLAGS		+= -I../../thirdparty/ -Wno-maybe-uninitialized -Wno-uninitialized 
double-conversion_CXXFLAGS	+= -Wno-strict-overflow
GlazeTest_CXXFLAGS			+= -I../../thirdparty/glaze/include/ -Wno-missing-braces -Wno-deprecated
jsmnTest_CXXFLAGS			+= -I../../thirdparty/
json-cTest_CXXFLAGS			+= -I../../thirdparty/ -Wno-sign-compare -Wno-unused-function
jsonconsTest_CXXFLAGS		+= -I../../thirdparty/jsoncons/include/ -Wno-unused-parameter -Wno-missing-braces -Wno-deprecated-literal-operator -Wno-deprecated-copy-with-dtor
jsoncppTest_CXXFLAGS		+= -I../../thirdparty/jsoncpp/include/ -Wno-unused-variable
JsonifierTest_CXXFLAGS		+= $(AVX_FLAGS)
JsonifierTest_CXXFLAGS		+= -Wno-unused-parameter -Wno-unused-local-typedefs -Wno-deprecated -Wno-unused-variable -Wno-pedantic -Wno-ignored-qualifiers -Wno-missing-braces -Wno-error -Wno-class-memaccess -I../../thirdparty/Jsonifier/Include/
jsonxxTest_CXXFLAGS			+= -I../../thirdparty/jsonxx -Wno-dollar-in-identifier-extension
JzonTest_CXXFLAGS           += -I../../thirdparty/Jzon/ -Wno-deprecated-declarations
nlohmannTest_CXXFLAGS		+= -I../../thirdparty/nlohmann/include/ -Wno-unused-local-typedef
picojsonTest_CXXFLAGS		+= -I../../thirdparty/picojson/
rapidjson-AutoUTFTest_CXXFLAGS		+= -I../../thirdparty/rapidjson/include/
rapidjson-FullPrecTest_CXXFLAGS		+= -I../../thirdparty/rapidjson/include/
rapidjson-InsituTest_CXXFLAGS		+= -I../../thirdparty/rapidjson/include/
rapidjson-IterativeTest_CXXFLAGS	+= -I../../thirdparty/rapidjson/include/
rapidjsonTest_CXXFLAGS		+= -I../../thirdparty/rapidjson/include/
sajsonTest_CXXFLAGS			+= -I../../thirdparty/sajson -Wno-unused-parameter -Wno-pedantic
SimdjsonDomTest_CXXFLAGS	+= -I../../thirdparty/simdjson/include -Wno-deprecated-literal-operator
SimdjsonOnDemandTest_CXXFLAGS	+= -I../../thirdparty/simdjson/include -Wno-deprecated-literal-operator
ThorsSerializerTest_CXXFLAGS+= -Wno-return-stack-address -Wno-range-loop-analysis -Wno-deprecated-declarations -Wno-array-bounds
ThorsSerializerTest_CXXFLAGS+= -I../../thirdparty/ThorsMongo/magic_enum/include/magic_enum
udbTest_CXXFLAGS			+= -I../../thirdparty/udb-jsason-parser/include/ -I../../thirdparty/udb-jsason-parser/include/json-parser
json-voorheesTest_CXXFLAGS	+= -I../../thirdparty/json-voorhees/include/ -Wno-deprecated-declarations -Wno-deprecated-copy-with-user-provided-dtor -Wno-deprecated-literal-operator

EXCLUDE_HEADERS             += ThorsSerializer_Canada.h  ThorsSerializer_citm_catalog.h  ThorsSerializer_Common.h    \
                               ThorsSerializer_GetStats.h  ThorsSerializer_StringNumber.h  ThorsSerializer_Twitter.h \
                               ArduinoJson.h ArduinoJson.hpp	\
                               jsonxx.h                         \
                               Jzon.h							\
							   rapidjsonTest.h					\
							   sajson.h							\



FILE_WARNING_FLAGS          += -Wno-unknown-pragmas -Wno-unknown-warning-option

include $(THORSANVIL_ROOT)/build/tools/Makefile
